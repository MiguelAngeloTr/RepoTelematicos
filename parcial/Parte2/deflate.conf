<IfModule mod_deflate.c>
    <IfModule mod_filter.c>

        # ==============================
        # Habilitar compresión GZIP
        # ==============================

        # Tipos de archivos a comprimir
        AddOutputFilterByType DEFLATE text/html \
                                      text/plain \
                                      text/xml \
                                      text/css \
                                      text/javascript \
                                      application/javascript \
                                      application/x-javascript \
                                      application/ecmascript \
                                      application/rss+xml \
                                      application/wasm \
                                      application/xml

        # ==============================
        # Excluir archivos que ya están comprimidos
        # ==============================
        SetEnvIfNoCase Request_URI \
        \.(?:gif|jpe?g|png|webp|bmp|mp4|mov|avi|webm|flv|ogg|mp3|wav)$ \
        no-gzip dont-vary

    </IfModule>
</IfModule>
